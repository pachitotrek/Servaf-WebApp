<ion-header>
 <app-menu></app-menu>
</ion-header>

<ion-content>
  <div class="container-fluid">

    <div class="row">
      <div class="col-sm-8">
        <div class="text-center mt-2">
          <ion-item text-center color="primary">
            <ion-label>Clientes Actuales</ion-label>
          </ion-item>
          <div class="text-center table-responsive">
            <table class="table">
              <thead class="thead-dark">
                <tr>
                  <th scope="col">Nombre</th>
                  <th scope="col">Tipo</th>
                  <th scope="col">Numero</th>
                  <th scope="col">Telefono</th>
                  <th scope="col">Email</th>
                  <th scope="col">Ciudad</th>
                  <th scope="col">Gestionar</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of clientes">
                  <th scope="row">{{item.nombre}}</th>
                  <td>{{item.identificacion}}</td>
                  <td>{{item.numero}}</td>
                  <td>{{item.telefono}}</td>
                  <td>{{item.email}}</td>
                  <td>{{item.ciudad}}</td>
                  <td style="max-width: 130px;" text-center>
                    <ion-button (click)="set(item)" size="small" color="success">
                      <ion-icon slot="icon-only" name="create"></ion-icon>
                    </ion-button>               
                  </td>
                </tr>
              </tbody>
            </table>      
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div *ngIf="pannel">
          <ion-item color="primary" text-center class="mt-2" *ngIf="edit">
            <ion-icon name="refresh-circle" slot="end" (click)="refresh()"></ion-icon>
            <ion-label>Editar Cliente</ion-label>
          </ion-item>
          <ion-item color="primary" text-center class="mt-2" *ngIf="!edit">
            <ion-icon name="refresh-circle" slot="end" (click)="refresh()"></ion-icon>
            <ion-label>Crear Cliente</ion-label>
          </ion-item>      
        </div>
        <form [formGroup]="form" (ngSubmit)="crear()" *ngIf="pannel">
          <div class="form-group">
            <label>Nombre</label>
            <input type="text" class="form-control" formControlName="nombre" aria-describedby="">
            <small class="form-text text-muted">Nombre del Cliente</small>
          </div>
          <div class="form-group">
            <label>Tipo de identificacion</label>
            <select class="form-control" id="exampleFormControlSelect1" formControlName="identificacion">
              <option value="C.C">C.C</option>
              <option value="NIT">NIT</option>
              <option value="RUT">RUT</option>
            </select>
           
            <small class="form-text text-muted">Identificacion del Cliente</small>
          </div>
          <div class="form-group">
            <label>Numero de Identificacion</label>
            <input type="text" class="form-control" formControlName="numero" aria-describedby="">
            <small class="form-text text-muted">Numero de Identificacion del cliente</small>
          </div>
          <div class="form-group">
            <label>Direccion</label>
            <input type="text" class="form-control" formControlName="direccion" aria-describedby="">
            <small class="form-text text-muted">Direccion del Cliente</small>
          </div>
          <div class="form-group" *ngIf="!edit">
            <label>Telefono</label>
            <input type="text" class="form-control" formControlName="telefono" aria-describedby="">
            <small class="form-text text-muted">Telefono del cliente</small>
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" formControlName="email" aria-describedby="">
            <small class="form-text text-muted">Email del cliente</small>
          </div>
          <div class="form-group">
            <label for="exampleFormControlSelect1">Ciudad</label>
            <input type="text" class="form-control" formControlName="ciudad" aria-describedby="">
         
          </div>     
         
          <button type="submit" class="btn btn-success" [disabled]="!form.valid"  *ngIf="!edit">Crear Cliente</button>
          <button type="button" class="btn btn-primary" [disabled]="!form.valid" (click)="update()"  *ngIf="edit">Actualizar Cliente</button>
        </form>
   



      </div>

    </div>

  </div>

</ion-content>
