<ion-content>
  <div class="container-fluid">
    <div class="row m-0 p-0">
      <div class="col-sm-12 mt-2 p-0">
        <ion-item color="primary">
          <ion-label>Consulte sus Medidores Calibrados</ion-label>
        </ion-item>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-sm-12 mb-3">
        <form action="" [formGroup]="form">
          <div class="form-group row mt-4">
            <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">SERIAL</label>
            <div class="col-sm-10">
              <input type="text" class="form-control form-control-sm" formControlName="serial" placeholder="Introduce el serial del medidor">
            </div>
          </div>
          <ion-item button (click)="get()" color="primary" text-center>
            <ion-label>Buscar</ion-label>
          </ion-item>
        </form>
      </div>

    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <table class="table">
          <thead class="thead-dark">
            <tr text-center>
              <th scope="col">Certificado No</th>
              <th scope="col">Serial</th>
              <th scope="col">Marca</th>
              <th scope="col">Modelo</th>             
              <th scope="col">Cliente</th>
              <th scope="col">O. Trabajo</th>
              <th scope="col">O. Entrada</th>
              <th scope="col">Apto</th>
              <th scope="col">Informe</th>
              <th scope="col">Datos</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of items" text-center>
              <th>{{item.consecutivo}}</th>
              <th scope="row">{{item.datos.serie}}</th>
              <td>{{item.datos?.marca?.titulo}}</td>
              <td>{{item.datos?.modelo?.titulo}}</td>
              <td>{{item.cliente?.nombre}}</td>
              <td>{{item.orden_trabajo?.orden}}</td>
              <td>{{item.orden_entrada?.orden}}</td>
              <td *ngIf="item.estado=='true'">Si</td>
              <td *ngIf="item.estado=='false'">No</td>   
              <td class="p-0" *ngIf="item.estado=='true'">
                <ion-button (click)="download(item._id)" size="small" color="primary">
                  <ion-icon slot="icon-only" name="cloud-download"></ion-icon>
                </ion-button>
              </td>
              <td class="p-0" *ngIf="item.estado=='false'">
                <ion-button (click)="go(item._id)" size="small" color="primary">
                  <ion-icon slot="icon-only" name="cloud-download"></ion-icon>
                </ion-button>
              </td>
              <td class="p-0" *ngIf="item.estado=='true'">
                <ion-button (click)="godatos(item._id)" size="small" color="primary">
                  <ion-icon slot="icon-only" name="share-alt"></ion-icon>
                </ion-button>
              </td>
              
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</ion-content>